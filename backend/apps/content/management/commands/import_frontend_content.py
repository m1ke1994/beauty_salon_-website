from django.core.management.base import BaseCommand
from apps.content.importer import import_content


class Command(BaseCommand):
    help = "????????????? ??????? ?? ????????? ? ???? ??????"

    def add_arguments(self, parser):
        parser.add_argument(
            "--clear",
            action="store_true",
            help="???????? ???????????? ??????? ????? ????????",
        )
        parser.add_argument(
            "--no-fixture",
            action="store_true",
            help="?? ????????? ??????? ? fixtures",
        )

    def handle(self, *args, **options):
        import_content(clear=options["clear"], write_fixture=not options["no_fixture"])
        self.stdout.write(self.style.SUCCESS("??????? ????????????."))
